# π Web Proxy

![Python](https://img.shields.io/badge/Python-3.9%2B-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-latest-green)
![MySQL](https://img.shields.io/badge/MySQL-8.0-blue)
![License](https://img.shields.io/badge/License-MIT-yellow)

μ•μ „ν• μ›Ή λΈλΌμ°μ§•μ„ μ„ν• ν”„λ΅μ‹ μ„λ²„μ™€ ν”Όμ‹± νƒμ§€ μ‹μ¤ν…

## π€ μ‹μ‘ν•κΈ°

### λ„μ»¤ μ‹¤ν–‰
```bash
docker-compose up --build
```

### νΈμ¤νΈ μ‹¤ν–‰
```bash
# ν”„λ΅μ‹ μ„λ²„ μ‹¤ν–‰
python3 project/proxy/main.py

# μ›Ή μ„λ²„ μ‹¤ν–‰
cd project/web && python3 main.py
```

> β— μ‚¬μ „μ— mysql μ„¤μΉ λ° init.sqlμ„ μ‹¤ν–‰ν•΄μ•Ό ν•©λ‹λ‹¤.


## π”§ ν”„λ΅μ‹ μ„¤μ • λ°©λ²•
> β οΈ ν”„λ΅μ‹μ— μ ‘μ†ν•λ” ν΄λΌμ΄μ–ΈνΈλ” `127.0.0.1` λ€μ‹  ν”„λ΅μ‹ νΈμ¤νΈμ μ‚¬μ„¤ μ£Όμ†λ΅ λ€μ²΄ κ°€λ¥ν•©λ‹λ‹¤.

### λΈλΌμ°μ € μ„¤μ •

#### Firefox (κ¶μ¥)
1. μ„¤μ • β†’ μΌλ°
2. λ„¤νΈμ›ν¬ μ„¤μ • β†’ μ„¤μ •
3. μλ™ ν”„λ΅μ‹ μ„¤μ •
   - HTTP/HTTPS ν”„λ΅μ‹: `127.0.0.1`
   - ν¬νΈ: `8080`
   - β… HTTPSμ— μ΄ ν”„λ΅μ‹λ¥Ό μ‚¬μ©

### μ‹μ¤ν… ν”„λ΅μ‹ μ„¤μ •

#### MacOS
```bash
# HTTP ν”„λ΅μ‹ μ„¤μ • (Wi-Fi)
networksetup -setwebproxy "Wi-Fi" 127.0.0.1 8080

# HTTPS ν”„λ΅μ‹ μ„¤μ •
networksetup -setsecurewebproxy "Wi-Fi" 127.0.0.1 8080

# ν”„λ΅μ‹ ν™μ„±ν™”
networksetup -setwebproxystate "Wi-Fi" on
networksetup -setsecurewebproxystate "Wi-Fi" on
```

```bash
# ν”„λ΅μ‹ λΉ„ν™μ„±ν™”
networksetup -setwebproxystate "Wi-Fi" off
networksetup -setsecurewebproxystate "Wi-Fi" off
```

#### Windows
1. μ„¤μ • β†’ ν”„λ΅μ‹ μ„¤μ •
2. μλ™ ν”„λ΅μ‹ μ„¤μ •
   - ν”„λ΅μ‹ μ„λ²„ μ‚¬μ©: `μΌ¬`
   - μ£Όμ†: `127.0.0.1`
   - ν¬νΈ: `8080`

## π” ν”„λ΅μ‹ ν…μ¤νΈ
```bash
curl -x http://127.0.0.1:8080 [URL]
```

## π’» κ΄€λ¦¬μ νμ΄μ§€
```
http://127.0.0.1:8000
```

## π”’ HTTPS ν„°λ„λ§ κµ¬ν„ λ°©λ²•

HTTPS μ—°κ²°μ€ SSL/TLS μ•”νΈν™”λ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ λ³΄μ• ν†µμ‹ μ„ μ κ³µν•©λ‹λ‹¤. ν”„λ΅μ‹ μ„λ²„λ” μ΄λ¥Ό μ„ν•΄ λ‹¤μκ³Ό κ°™μ€ ν„°λ„λ§ λ©”μ»¤λ‹μ¦μ„ κµ¬ν„ν•©λ‹λ‹¤:

### μ „μ²΄ νλ¦„λ„
```
[ν΄λΌμ΄μ–ΈνΈ]                                   [ν”„λ΅μ‹ μ„λ²„]                             [μ›Ή μ„λ²„]
    β”‚                                           β”‚                                     β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€ CONNECT μ”μ²­ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶  β”‚                                     β”‚
    β”‚           CONNECT example.com:443         β”‚                                     β”‚
    β”‚           Host: example.com               β”‚                                     β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚                                           β”‚β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚
    β”‚                                           β”‚           TCP 3-way ν•Έλ“μ…°μ΄ν¬         β”‚
    β”‚                                           β”‚           SYN β†’ SYN-ACK β†’ ACK       β”‚
    β”‚                                           β”‚β—€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚                                           β”‚β—€β”€β”€ μ—°κ²° μ„±κ³µ μ‹                        β”‚
    β”‚β—€β”€β”€β”€β”€β”€β”€β”€β”€β”€ 200 Connection Established β”€β”€β”€β”€β”€β”‚                                     β”‚
    β”‚       (ν„°λ„μ΄ μ„±κ³µμ μΌλ΅ μ—΄λ¦Ό)                  β”‚                                     β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€[ TLS Handshake ]β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚
    β”‚              (ν”„λ΅μ‹λ” μ•”νΈν™” λ‚΄μ© λ¨λ¦„)        β”‚                                     β”‚
    β”‚β—€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€[ TLS Handshake ]β—€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”‚
    β”‚                                           β”‚                                     β”‚
    β”‚β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•[μ•”νΈν™”λ HTTPS λ°μ΄ν„° κµν™]β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β–¶β”‚
    β”‚           (ex. GET /, POST, μΏ ν‚¤, μΈμ¦ λ“±)   β”‚                                     β”‚
    β”‚β—€β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β•β”‚

```